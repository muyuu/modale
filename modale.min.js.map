{"version":3,"sources":["modale.min.js"],"names":["_typeof","Symbol","iterator","obj","constructor","definition","moduleName","root","self","global","exports","module","require","$","factory","param","rootElement","opt","isUndefined","$self","jQuery","length","result","i","Module","moduleRoot","_this","this","target","sourceType","extension","$root","width","height","padding","type","closeEl","startOpen","clone","btn","btnStr","btnPadding","onOpen","onClose","isOpen","on","e","preventDefault","init","isPng","str","getExtension","isGif","isJpg","isDiv","indexOf","fileName","ret","fileTypes","split","len","prototype","setTarget","setType","drawModalElement","calcSize","open","attr","setYoutubeId","getYoutubeId","regExp","match","drawOverlay","drawModal","drawModalBody","drawModalContent","drawModalBtn","setModalElements","setModalCloseElements","append","$overlay","$modal","$modalBody","contentStr","$modalBtn","$modalElements","$modalCloseElements","func","_this2","img","Image","src","onload","setSize","apply","adjustSize","offset","windowWidth","window","windowHeight","arr","calcedWidth","calcedHeight","currentScrollY","scrollTop","css","top","margin-top","find","reCalcSize","contentWidth","contentHeight","modalWidth","modalHeight","isSmallWidthContent","isSmallHeightContent","notNeedAnimate","animate","_this3","addClass","fadeIn","promise","done","setCloseEvent","close","_this4","fadeOut","$body","remove","removeClass","style","prop","_this5"],"mappings":"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","file":"modale.min.js","sourcesContent":["\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t};!function(t){var e=\"uiModale\",o=\"object\"===(\"undefined\"==typeof self?\"undefined\":_typeof(self))&&self.self===self&&self||\"object\"===(\"undefined\"==typeof global?\"undefined\":_typeof(global))&&global.global===global&&global;\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))?module.exports=t(o,require(\"jquery\")):o[e]=t(o,$)}(function(t,e){function o(t){var o=\".js-modale\",s=n(t)?{}:t,r=void 0;n(s.root)&&(r=e(o)),n(s.root)||(r=s.root instanceof jQuery?t.root:e(t.root));for(var l=r.length,a=[],d=0;d<l;d++)a[d]=new i(s,r[d]);return a}function i(t,o){var i=this;this.target=null,this.sourceType=null,this.extension=null,this.$root=e(o),this.opt={root:o,width:n(t.width)?800:t.width,height:n(t.height)?600:t.height,padding:n(t.padding)?40:t.padding,type:n(t.type)?\"img\":t.type,closeEl:n(t.closeEl)?\".js-modaleClose\":t.closeEl,startOpen:!n(t.startOpen)&&t.startOpen,clone:!n(t.clone)&&t.clone,btn:!n(t.btn)&&t.btn,btnStr:n(t.btnStr)?\"close\":t.btnStr,btnPadding:n(t.btnPadding)?20:t.btnPadding,onOpen:n(t.onOpen)?null:t.onOpen,onClose:n(t.onClose)?null:t.onClose},this.isOpen=!1,this.$root.on(\"click\",function(t){return t.preventDefault(),i.init(),!1}),this.opt.startOpen&&this.init()}var n=function(t){return void 0===t},s=function(t){return\"png\"===d(t)},r=function(t){return\"gif\"===d(t)},l=function(t){return\"jpg\"===d(t)},a=function(t){return 0===t.indexOf(\"#\")},d=function(t){var e=void 0;if(!t)return!1;var o=t.split(\".\"),i=o.length;return 0!==i&&(e=o[i-1])};return i.prototype.init=function(){return this.isOpen=!0,this.setTarget(),this.setType(),this.drawModalElement(),this.calcSize(this.open),this},i.prototype.setTarget=function(){return this.target=this.$root.attr(\"href\"),this},i.prototype.setType=function(){return this.target.indexOf(\"youtube.com\")!==-1&&(this.sourceType=\"youtube\",this.setYoutubeId()),(s(this.target)||r(this.target)||l(this.target))&&(this.sourceType=\"img\"),a(this.target)&&(this.sourceType=\"div\"),\"iframe\"===this.opt.type&&(this.sourceType=\"iframe\"),this},i.prototype.setYoutubeId=function(){return this.target=this.getYoutubeId(),this},i.prototype.getYoutubeId=function(){var t=/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/,e=this.target.match(t);if(e&&11==e[2].length)return e[2]},i.prototype.drawModalElement=function(){return this.drawOverlay(),this.drawModal(),this.drawModalBody(),this.drawModalContent(),this.opt.btn&&this.drawModalBtn(),this.setModalElements(),this.setModalCloseElements(),this},i.prototype.drawOverlay=function(){return e(\"body\").append(\"<div id='js-modaleOverlay' class='ui-modal__overlay'>\"),this.$overlay=e(\"#js-modale-overlay\"),this},i.prototype.drawModal=function(){return e(\"body\").append(\"<div id='js-modale' class='ui-modal'>\"),this.$modal=e(\"#js-modale\"),this},i.prototype.drawModalBody=function(){return this.$modal.append(\"<div id='js-modaleBody' class='ui-modal__body'>\"),this.$modalBody=e(\"#js-modaleBody\"),this},i.prototype.drawModalContent=function(){var t=\"<img src='\"+this.target+\"' >\";return\"youtube\"===this.sourceType&&(t=\"<iframe src='https://www.youtube.com/embed/\"+this.target+\"?enablejsapi=1&amp;rel=0&amp;controls=0&amp;showinfo=0' width='' height='' frameborder='0' allowfullscreen></iframe>\"),\"iframe\"===this.sourceType&&(t=\"<iframe src='\"+this.target+\"' width='' height='' frameborder='0' allowfullscreen></iframe>\"),\"div\"===this.sourceType&&(t=this.opt.clone?e(this.target).clone(!0,!0):e(this.target)),this.$modalBody.append(t),this},i.prototype.drawModalBtn=function(){var t=\"<a id='js-modaleClose' class='ui-modal__close' href='#'>\"+this.opt.btnStr+\"</a>\";return e(\"body\").append(t),this.$modalBtn=e(\"#js-modaleClose\"),this},i.prototype.setModalElements=function(){return this.$modalElements=e(\"#js-modaleOverlay, #js-modale, #js-modaleClose\"),this},i.prototype.setModalCloseElements=function(){return this.$modalCloseElements=e(\"#js-modaleOverlay, \"+this.opt.closeEl),this},i.prototype.calcSize=function(t){var e=this;if(\"img\"===this.sourceType)!function(){var o=new Image;o.src=e.target,o.onload=function(){return e.setSize(o.width,o.height),\"function\"==typeof t&&void t.apply(e)}}();else{if(this.setSize(this.opt.width,this.opt.height),\"function\"!=typeof t)return!1;t.apply(this)}},i.prototype.adjustSize=function(t,o){var i=this.opt.padding,n=e(window).width(),s=e(window).height();return n<=t&&(t=n-i),s<=o&&(o=s-i),[t,o]},i.prototype.setSize=function(t,o){var i=this.adjustSize(t,o),n=i.width,s=i.height;return this.currentScrollY=e(window).scrollTop(),e(\"body, html\").css({top:-1*this.currentScrollY}),this.$modal.css({width:n,height:s}),this.opt.btn&&this.$modalBtn.css({\"margin-top\":s/2+this.opt.btnPadding}),\"youtube\"!==this.sourceType&&\"iframe\"!==this.sourceType||this.$modalBody.find(\"iframe\").css({width:n,height:s}),this},i.prototype.reCalcSize=function(){var t=this.$modalBody.width(),e=this.$modalBody.height(),o=this.$modal.width(),i=this.$modal.height(),n=void 0,s=void 0,r=function(){return o>t},l=function(){return i>e},a=function(){return!r()&&!l()};return r()&&(n=t),l()&&(s=e),a()?this:(this.$modal.animate({width:n,height:s},300,\"swing\"),this)},i.prototype.open=function(){var t=this;return e(\"body\").addClass(\"js-noScroll\"),this.$modalElements.fadeIn().promise().done(function(){t.setCloseEvent(),t.reCalcSize(),\"function\"==typeof t.opt.onOpen&&t.opt.onOpen()}),this},i.prototype.close=function(){var t=this;return this.isOpen?(this.$modalElements.fadeOut().promise().done(function(){var o=e(\"body\");\"div\"!==t.sourceType||t.opt.clone||o.append(e(t.target)),t.$modalElements.remove(),o.removeClass(\"js-noScroll\"),e(\"body, html\").attr({style:\"\"}).prop({scrollTop:t.currentScrollY}),\"function\"==typeof t.opt.onClose&&t.opt.onClose()}),this):this},i.prototype.setCloseEvent=function(){var t=this;this.$modalCloseElements.on(\"click\",function(e){e.preventDefault(),t.close()})},o});\n//# sourceMappingURL=modale.min.js.map\n"]}