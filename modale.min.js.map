{"version":3,"sources":["modale.min.js"],"names":["_typeof","Symbol","iterator","obj","constructor","definition","moduleName","root","self","global","exports","module","require","$","factory","param","rootElement","opt","isUndefined","$self","jQuery","map","key","val","Module","moduleRoot","_this","this","target","sourceType","extension","$root","width","height","padding","type","closeEl","startOpen","clone","btn","btnStr","btnPadding","onOpen","onClose","on","e","preventDefault","init","isPng","str","getExtension","isGif","isJpg","isDiv","indexOf","fileName","ret","fileTypes","split","len","length","prototype","setTarget","setType","drawModalElement","calcSize","open","attr","setYoutubeId","getYoutubeId","regExp","match","drawOverlay","drawModal","drawModalBody","drawModalContent","drawModalBtn","setModalElements","setModalCloseElements","append","$overlay","$modal","$modalBody","contentStr","$modalBtn","$modalElements","$modalCloseElements","func","_this2","img","Image","src","onload","setSize","apply","css","margin-top","find","_this3","addClass","fadeIn","setCloseEvent","setTimeout","close","_this4","fadeOut","$body","remove","removeClass","_this5"],"mappings":"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","file":"modale.min.js","sourcesContent":["\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t};!function(t){var e=\"uiModale\",o=\"object\"===(\"undefined\"==typeof self?\"undefined\":_typeof(self))&&self.self===self&&self||\"object\"===(\"undefined\"==typeof global?\"undefined\":_typeof(global))&&global.global===global&&global;\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))?module.exports=t(o,require(\"jquery\")):o[e]=t(o,$)}(function(t,e){function o(t){var o,s=\".js-modale\",r=i(t)?{}:t;return i(r.root)&&(o=e(s)),i(r.root)||(o=r.root instanceof jQuery?t.root:e(t.root)),o.map(function(t,e){new n(r,e)})}function n(t,o){var n=this;this.target=null,this.sourceType=null,this.extension=null,this.$root=e(o),this.opt={root:this.moduleRoot,width:i(t.width)?800:t.width,height:i(t.height)?600:t.height,padding:i(t.padding)?40:t.padding,type:i(t.type)?\"img\":t.type,closeEl:i(t.closeEl)?\"#js-modaleOverlay, #js-modaleClose\":t.closeEl,startOpen:!i(t.startOpen)&&t.startOpen,clone:!i(t.clone)&&t.clone,btn:!i(t.btn)&&t.btn,btnStr:i(t.btnStr)?\"close\":t.btnStr,btnPadding:i(t.btnPadding)?20:t.btnPadding,onOpen:i(t.onOpen)?null:t.onOpen,onClose:i(t.onClose)?null:t.onClose},this.$root.on(\"click\",function(t){return t.preventDefault(),n.init(),!1}),this.opt.startOpen&&this.init()}var i=function(t){return void 0===t},s=function(t){return\"png\"===d(t)},r=function(t){return\"gif\"===d(t)},l=function(t){return\"jpg\"===d(t)},a=function(t){return 0===t.indexOf(\"#\")},d=function(t){var e=void 0;if(!t)return!1;var o=t.split(\".\"),n=o.length;return 0!==n&&(e=o[n-1])};return n.prototype.init=function(){return this.setTarget(),this.setType(),this.drawModalElement(),this.calcSize(this.open),this},n.prototype.setTarget=function(){return this.target=this.$root.attr(\"href\"),this},n.prototype.setType=function(){return this.target.indexOf(\"youtube.com\")!==-1&&(this.sourceType=\"youtube\",this.setYoutubeId()),(s(this.target)||r(this.target)||l(this.target))&&(this.sourceType=\"img\"),a(this.target)&&(this.sourceType=\"div\"),\"iframe\"===this.opt.type&&(this.sourceType=\"iframe\"),this},n.prototype.setYoutubeId=function(){return this.target=this.getYoutubeId(),this},n.prototype.getYoutubeId=function(){var t=/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/,e=this.target.match(t);if(e&&11==e[2].length)return e[2]},n.prototype.drawModalElement=function(){return this.drawOverlay(),this.drawModal(),this.drawModalBody(),this.drawModalContent(),this.opt.btn&&this.drawModalBtn(),this.setModalElements(),this.setModalCloseElements(),this},n.prototype.drawOverlay=function(){return e(\"body\").append(\"<div id='js-modaleOverlay' class='ui-modal__overlay'>\"),this.$overlay=e(\"#js-modale-overlay\"),this},n.prototype.drawModal=function(){return e(\"body\").append(\"<div id='js-modale' class='ui-modal'>\"),this.$modal=e(\"#js-modale\"),this},n.prototype.drawModalBody=function(){return this.$modal.append(\"<div id='js-modaleBody' class='ui-modal__body'>\"),this.$modalBody=e(\"#js-modaleBody\"),this},n.prototype.drawModalContent=function(){var t=\"<img src='\"+this.target+\"' >\";return\"youtube\"===this.sourceType&&(t=\"<iframe src='https://www.youtube.com/embed/\"+this.target+\"?enablejsapi=1&amp;rel=0&amp;controls=0&amp;showinfo=0' width='' height='' frameborder='0' allowfullscreen></iframe>\"),\"iframe\"===this.sourceType&&(t=\"<iframe src='\"+this.target+\"' width='' height='' frameborder='0' allowfullscreen></iframe>\"),\"div\"===this.sourceType&&(t=this.opt.clone?e(this.target).clone(!0,!0):e(this.target)),this.$modalBody.append(t),this},n.prototype.drawModalBtn=function(){var t=\"<a id='js-modaleClose' class='ui-modal__close' href='#'>\"+this.opt.btnStr+\"</a>\";return e(\"body\").append(t),this.$modalBtn=e(\"#js-modaleClose\"),this},n.prototype.setModalElements=function(){return this.$modalElements=e(\"#js-modaleOverlay, #js-modale, #js-modaleClose\"),this},n.prototype.setModalCloseElements=function(){return this.$modalCloseElements=e(this.opt.closeEl),this},n.prototype.calcSize=function(t){var e=this;if(\"img\"===this.sourceType){var o=new Image;o.src=this.target,o.onload=function(){return e.setSize(o.width,o.height),\"function\"==typeof t&&void t.apply(e)}}else{if(this.setSize(this.opt.width,this.opt.height),\"function\"!=typeof t)return!1;t.apply(this)}},n.prototype.setSize=function(t,e){return this.$modal.css({width:t,height:e}),this.opt.btn&&this.$modalBtn.css({\"margin-top\":e/2+this.opt.btnPadding}),\"youtube\"!==this.sourceType&&\"iframe\"!==this.sourceType||this.$modalBody.find(\"iframe\").css({width:t,height:e}),this},n.prototype.open=function(){var t=this;return e(\"body\").addClass(\"js-noScroll\"),this.$modalElements.fadeIn(function(){t.setCloseEvent()}),\"function\"!=typeof this.opt.onOpen?this:(setTimeout(function(){t.opt.onOpen()},400),this)},n.prototype.close=function(){var t=this;return this.$modalElements.fadeOut(function(){var o=e(\"body\");\"div\"!==t.sourceType||t.opt.clone||o.append(e(t.target)),t.$modalElements.remove(),o.removeClass(\"js-noScroll\")}),\"function\"!=typeof this.opt.onClose?this:(setTimeout(function(){t.opt.onClose()},400),this)},n.prototype.setCloseEvent=function(){var t=this;this.$modalCloseElements.on(\"click\",function(e){e.preventDefault(),t.close()})},o});\n//# sourceMappingURL=modale.min.js.map\n"]}