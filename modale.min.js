"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var e="uiModale",o="object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global;"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(o,require("jquery")):o[e]=t(o,$)}(function(t,e){function o(t){var o,s=".js-modale",r=i(t)?{}:t;return i(r.root)&&(o=e(s)),i(r.root)||(o=r.root instanceof jQuery?t.root:e(t.root)),o.map(function(t,e){new n(r,e)})}function n(t,o){var n=this;this.target=null,this.sourceType=null,this.extension=null,this.$root=e(o),this.opt={root:this.moduleRoot,width:i(t.width)?800:t.width,height:i(t.height)?600:t.height,padding:i(t.padding)?40:t.padding,type:i(t.type)?"img":t.type,startOpen:!i(t.startOpen)&&t.startOpen,clone:!i(t.clone)&&t.clone,btn:!!i(t.btn)||t.btn,onOpen:i(t.onOpen)?null:t.onOpen,onClose:i(t.onClose)?null:t.onClose},this.$root.on("click",function(t){return t.preventDefault(),n.init(),!1}),this.opt.startOpen&&this.init()}var i=function(t){return void 0===t},s=function(t){return"png"===d(t)},r=function(t){return"gif"===d(t)},a=function(t){return"jpg"===d(t)},l=function(t){return 0===t.indexOf("#")},d=function(t){var e=void 0;if(!t)return!1;var o=t.split("."),n=o.length;return 0!==n&&(e=o[n-1])};return n.prototype.init=function(){return this.setTarget(),this.setType(),this.drawModalElement(),this.calcSize(this.open),this},n.prototype.setTarget=function(){return this.target=this.$root.attr("href"),this},n.prototype.setType=function(){return this.target.indexOf("youtube.com")!==-1&&(this.sourceType="youtube",this.setYoutubeId()),(s(this.target)||r(this.target)||a(this.target))&&(this.sourceType="img"),l(this.target)&&(this.sourceType="div"),"iframe"===this.opt.type&&(this.sourceType="iframe"),this},n.prototype.setYoutubeId=function(){return this.target=this.getYoutubeId(),this},n.prototype.getYoutubeId=function(){var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,e=this.target.match(t);if(e&&11==e[2].length)return e[2]},n.prototype.drawModalElement=function(){return this.drawOverlay(),this.drawModal(),this.drawModalBody(),this.drawModalContent(),this.opt.btn&&this.drawModalBtn(),this.setModalElements(),this.setModalCloseElements(),this},n.prototype.drawOverlay=function(){return e("body").append("<div id='js-modaleOverlay' class='ui-modal__overlay'>"),this.$overlay=e("#js-modale-overlay"),this},n.prototype.drawModal=function(){return e("body").append("<div id='js-modale' class='ui-modal'>"),this.$modal=e("#js-modale"),this},n.prototype.drawModalBody=function(){return this.$modal.append("<div id='js-modaleBody' class='ui-modal__body'>"),this.$modalBody=e("#js-modaleBody"),this},n.prototype.drawModalContent=function(){var t="<img src='"+this.target+"' >";return"youtube"===this.sourceType&&(t="<iframe src='https://www.youtube.com/embed/"+this.target+"?enablejsapi=1&amp;rel=0&amp;controls=0&amp;showinfo=0' width='' height='' frameborder='0' allowfullscreen></iframe>"),"iframe"===this.sourceType&&(t="<iframe src='"+this.target+"' width='' height='' frameborder='0' allowfullscreen></iframe>"),"div"===this.sourceType&&(t=this.opt.clone?e(this.target).clone(!0,!0):e(this.target)),this.$modalBody.append(t),this},n.prototype.drawModalBtn=function(){var t="<a id='js-modaleClose' class='ui-modal__close' href='#'>close</a>";return this.$modalBody.append(t),this},n.prototype.setModalElements=function(){return this.$modalElements=e("#js-modaleOverlay, #js-modale"),this},n.prototype.setModalCloseElements=function(){return this.$modalCloseElements=e("#js-modaleOverlay, #js-modaleClose"),this},n.prototype.calcSize=function(t){var e=this;if("img"===this.sourceType){var o=new Image;o.src=this.target,o.onload=function(){return e.setSize(o.width,o.height),"function"==typeof t&&void t.apply(e)}}else{if(this.setSize(this.opt.width,this.opt.height),"function"!=typeof t)return!1;t.apply(this)}},n.prototype.setSize=function(t,e){return this.$modal.css({width:t,height:e}),"youtube"!==this.sourceType&&"iframe"!==this.sourceType||this.$modalBody.find("iframe").css({width:t,height:e}),this},n.prototype.open=function(){var t=this;return e("body").addClass("js-noScroll"),this.$modalElements.fadeIn(function(){t.setCloseEvent(),"function"==typeof t.opt.onOpen&&t.opt.onOpen()}),this},n.prototype.close=function(){var t=this;return this.$modalElements.fadeOut(function(){var o=e("body");"div"!==t.sourceType||t.opt.clone||o.append(e(t.target)),t.$modalElements.remove(),o.removeClass("js-noScroll"),"function"==typeof t.opt.onClose&&t.opt.onClose()}),this},n.prototype.setCloseEvent=function(){var t=this;this.$modalCloseElements.on("click",function(){t.close()})},o});
//# sourceMappingURL=modale.min.js.map
